<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'      
    'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>      
<html xmlns="http://www.w3.org/1999/xhtml">      
<head>
<script defer src="script.js"></script>
    <title>Lokalizacja najbliższych toalet</title>
	<link rel="stylesheet" type="text/css" href="style.css" />  
	<script src="jakis.js"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
         
    <script type="text/javascript"
        src="https://maps.googleapis.com/maps/api/js?sensor=false">
    </script>
     
    <script type="text/javascript">
		google.maps.event.addDomListener(window, 'load', init);
        function initialize() {
            var mapOptions = {
                zoom: 6,
				mapTypeId: 'Styled',
				mapTypeControlOptions: {
                        mapTypeIds: ['Styled']
                    },
                center: new google.maps.LatLng(52.173931692568, 18.8525390625),
					
				var mapElement = document.getElementById('map');

                // Create the Google Map using our element and options defined above
                var map = new google.maps.Map(mapElement, mapOptions);
				
                map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);
                var styledMapType = new google.maps.StyledMapType(styles, {name: 'Styled'});
                map.mapTypes.set('Styled', styledMapType);

                mapTypeId: google.maps.MapTypeId.ROADMAP
            
            map = new google.maps.Map(document.getElementById("mapa"), mapOptions);
        
		
        google.maps.event.addDomListener(window, 'load', initialize);
		
		}

var x = document.getElementById("demo");

function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else { 
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}

function showPosition(position) {
    x.innerHTML = "Latitude: " + position.coords.latitude + 
    "<br>Longitude: " + position.coords.longitude;
	var img_url = "https://maps.googleapis.com/maps/api/staticmap?center="
    +latlon+"&zoom=14&size=400x300&key=AIzaSyBu-916DdpKAjTmJNIgngS6HL_kDIKU0aU";
    document.getElementById("mapholder").innerHTML = "<img src='"+img_url+"'>";
}

	function showError(error) {
    switch(error.code) {
        case error.PERMISSION_DENIED:
            x.innerHTML = "User denied the request for Geolocation."
            break;
        case error.POSITION_UNAVAILABLE:
            x.innerHTML = "Location information is unavailable."
            break;
        case error.TIMEOUT:
            x.innerHTML = "The request to get user location timed out."
            break;
        case error.UNKNOWN_ERROR:
            x.innerHTML = "An unknown error occurred."
            break;
		}
	}
}

</script>
 
</head>
 
<body>

<p>Kliknij, by znaleźć moje położenie</p>

<button onclick="getLocation()">Szukaj</button>

<p id="demo"></p>
	<script>
	function geoFindMe() {
	var output = document.getElementById("out");

	if (!navigator.geolocation){
		output.innerHTML = "<p>Twoja przeglądarka nie wspiera geolokalizacji.</p>";
		return;
	}

	function success(position) {
		var latitude  = position.coords.latitude;
		var longitude = position.coords.longitude;

    output.innerHTML = '<p>Latitude is ' + latitude + '° <br>Longitude is ' + longitude + '°</p>';

    var img = new Image();
    img.src = "https://maps.googleapis.com/maps/api/staticmap?center=" + latitude + "," + longitude + "&zoom=13&size=300x300&sensor=false";

    output.appendChild(img);
  }

  function error() {
    output.innerHTML = "Nie można wykryć Twojej lokalizacji";
  }

  output.innerHTML = "<p>Locating…</p>";

  navigator.geolocation.getCurrentPosition(success, error);
}

	</script>
  <iframe src="https://www.google.com/maps/embed?pb=!1m10!1m8!1m3!1d40987.08121893345!2d19.935176!3d50.05459!3m2!1i1024!2i768!4f13.1!5e0!3m2!1spl!2spl!4v1526405250803" width="1300" height="600" frameborder="0" style="border:0" allowfullscreen></iframe>
	<div id="map"></div>
  </body>
</html>
